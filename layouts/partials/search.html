{{- /* 검색 기능 */ -}}
<div class="search-container">
    <input type="text" id="search-input" placeholder="검색..." />
    <div id="search-results"></div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const searchInput = document.getElementById('search-input');
        const searchResults = document.getElementById('search-results');

        if (searchInput && searchResults) {
            searchInput.addEventListener('input', function () {
                const query = this.value.toLowerCase();
                if (query.length < 2) {
                    searchResults.innerHTML = '';
                    return;
                }

                // 간단한 검색 구현 (필요시 Fuse.js 등 사용 가능)
                const posts = document.querySelectorAll('.post-entry');
                let results = [];

                posts.forEach(post => {
                    const title = post.querySelector('.entry-hint-parent').textContent.toLowerCase();
                    const content = post.querySelector('.entry-content').textContent.toLowerCase();

                    if (title.includes(query) || content.includes(query)) {
                        const link = post.querySelector('.entry-link').href;
                        const titleText = post.querySelector('.entry-hint-parent').textContent;
                        results.push({ title: titleText, url: link });
                    }
                });

                displayResults(results);
            });
        }

        function displayResults(results) {
            if (results.length === 0) {
                searchResults.innerHTML = '<p>검색 결과가 없습니다.</p>';
                return;
            }

            const html = results.map(result =>
                `<div class="search-result"><a href="${result.url}">${result.title}</a></div>`
            ).join('');

            searchResults.innerHTML = html;
        }
    });
</script>

<style>
    .search-container {
        margin: 20px 0;
    }

    #search-input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 16px;
    }

    #search-results {
        margin-top: 10px;
    }

    .search-result {
        padding: 8px 0;
        border-bottom: 1px solid #eee;
    }

    .search-result a {
        text-decoration: none;
        color: #333;
    }

    .search-result a:hover {
        color: #007acc;
    }
</style>